!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function r(e){return function(t,n,r){var u=n.inline,s=void 0!==u&&u;if(!r.endsWith("\\")&&s==e){var o=(e?/^(\$|\\\()/:/^(\$\$|\\\[)/).exec(t);if(null!=o){var c=o[1],a=i[c];t=t.substr(c.length);for(var l="",f=0,d=!1;(!t.startsWith(a)||0!==f||d)&&""!==t;)d=t.startsWith("\\"),f+=t.startsWith("{")?1:t.startsWith("}")?-1:0,l+=t[0],t=t.substr(1);return""!==t?[c+l+a,c+a,l]:void 0}}}}Object.defineProperty(t,"__esModule",{value:!0});var i={$:"$",$$:"$$","\\[":"\\]","\\(":"\\)"};t.newMathMatcher=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.newParser=r.newParser;var i=n(3);t.newPrinter=i.newPrinter;var u=n(4),s=n(5);t.defaultRules=s.defaultRules,t.defaultParser=r.newParser(s.defaultRules),t.defaultHTMLPrinter=i.newPrinter(u.html)},function(e,t,n){"use strict";function r(e){var t=e.sort(function(e,t){return e.order===t.order?0:(e.order||0)>(t.order||0)?1:-1}),n=function(e,r){void 0===r&&(r={});for(var i=[],u="";e;)for(var s=0;s<t.length;s++){var o=t[s].match(e,r,u);if(o){e=e.substring(o[0].length);var c=t[s].parse(o,n,r);Array.isArray(c)?i.push.apply(i,c):null!=c&&i.push(c),u=o[0];break}if(s===t.length-1)throw new Error("could not find rule to match content: "+JSON.stringify(e))}return i};return n}Object.defineProperty(t,"__esModule",{value:!0}),t.newParser=r},function(e,t,n){"use strict";function r(e){return function t(n,r){void 0===r&&(r={});for(var i=[],u=0;u<n.length;u++){var s=n[u];if(!e.hasOwnProperty(s.type))throw new Error("no printer for type: "+s.type);i.push(e[s.type](s,t,r))}return i}}Object.defineProperty(t,"__esModule",{value:!0}),t.newPrinter=r},function(e,t,n){"use strict";function r(e){return{text:function(e){return e.props.content},table:function(t,n,r){return e("table",{key:i(r)},n(t.children,r))},tablehead:function(t,n,r){return e("thead",{key:i(r)},n(t.children,r))},tableheadcolumn:function(t,n,r){return e("th",Object.assign({},t.props,{key:i(r)}),n(t.children,r))},tablebody:function(t,n,r){return e("tbody",{key:i(r)},n(t.children,r))},tablerow:function(t,n,r){return e("tr",{key:i(r)},n(t.children,r))},tablecolumn:function(t,n,r){return e("td",{key:i(r)},n(t.children,r))},paragraph:function(t,n,r){return e("p",{key:i(r)},n(t.children,r))},list:function(t,n,r){return e(/^\d/.test(t.props.bullet)?"ol":"ul",{key:i(r)},n(t.children,r))},listitem:function(t,n,r){return e("li",{key:i(r)},n(t.children,r))},link:function(t,n,r){return e("a",Object.assign({},t.props,{key:i(r)}),n(t.children,r))},image:function(t,n,r){return e("img",Object.assign({},t.props,{key:i(r)}))},heading:function(t,n,r){return e("h"+t.props.level,{key:i(r)},n(t.children,r))},emphasis:function(t,n,r){return e(u[t.props.delimiter],{key:i(r)},n(t.children,r))},comment:function(e){return"\x3c!--"+e.props.content+"--\x3e"},code:function(t,n,r){return"inline"===t.props.display?e("code",{key:i(r)},[t.props.content.trim()]):e("pre",{key:i(r)},[e("code",{key:i(r)},[t.props.content.trim()])])},blockquote:function(t,n,r){return e("blockquote",{key:i(r)},n(t.children,r))},math:function(t,n,r){return e("math",{key:i(r)},[t.props.content.trim()])}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.key=(e.key||0)+1,e.key},u={__:"u",_:"em","~~":"s","~":"del","**":"strong","*":"mark"};t.newHTMLPrinters=r,t.html=r(function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var r="";for(var i in t)t.hasOwnProperty(i)&&"id"!=i&&(r+=' "'+i+'"="'+t[i]+'"');return"<"+e+r+">"+n.join("")+"</"+e+">"}),t.react=r(function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=[]),{type:e,key:t.key,props:Object.assign({children:n},t,{key:void 0})}}),t.hyperapp=r(function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=[]),{tag:e,data:t,children:n}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(7),u=n(8),s=n(9),o=n(10),c=n(11),a=n(12),l=n(13),f=n(14),d=n(15),p=n(16),h=n(17),y=n(18),b=n(19),v=n(20),g=n(21);t.defaultRules=[Object.assign({},u.default,{order:0}),Object.assign({},g.default,{order:1}),Object.assign({},r.default,{order:2}),Object.assign({},c.default,{order:3}),Object.assign({},h.default,{order:4}),Object.assign({},i.default,{order:5}),Object.assign({},d.default,{order:6}),Object.assign({},b.default,{order:7}),Object.assign({},y.default,{order:8}),Object.assign({},p.default,{order:9}),Object.assign({},o.default,{order:10}),Object.assign({},l.default,{order:11}),Object.assign({},s.default,{order:12}),Object.assign({},a.default,{order:13}),Object.assign({},f.default,{order:14}),Object.assign({},v.default,{order:15})]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^(\\s*>[^\\n]*)+(\\n|$)");t.default={match:function(e,t){return t.inline?void 0:r.exec(e)},parse:function(e,t,n){return{type:"blockquote",children:t(e[0].replace(/^\s*> ?/gm,""),n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^```((?:[\\s\\S]|\\\\```)+)?```");t.default={match:function(e,t){return t.inline?void 0:r.exec(e)},parse:function(e){return{type:"code",props:{display:"block",content:e[1].replace(/\\```/g,"```")}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^\x3c!--[^(?:\\-\\->)]--\x3e");t.default={match:function(e){return r.exec(e)},parse:function(e){return{type:"comment",props:{content:e[1]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^(__|\\*\\*|~~|_|\\*|~)((?:\\\\\\1|[^(?:\\1)])*)?\\1");t.default={match:function(e,t){return t.inline?r.exec(e):void 0},parse:function(e,t,n){return{type:"emphasis",props:{delimiter:e[1]},children:t(e[2],n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^\\\\([\\\\`\\*\\_\\{\\}\\[\\]\\(\\)\\#\\+\\-\\.\\!\\<\\>\\|\\$\\~])");t.default={match:function(e,t){return t.inline?r.exec(e):void 0},parse:function(e){return{type:"text",props:{content:e[1]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^(#{1,6})\\s*([^\\n]*)(?:\\s*#*\\s*)?(?=\n|$)");t.default={match:function(e,t){return t.inline?void 0:r.exec(e)},parse:function(e,t,n){return void 0===n&&(n={}),{type:"heading",props:{level:e[1].length},children:t(e[2],Object.assign({},n,{inline:!0}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp('^\\!\\[([^\\]]+)?\\]\\(([^\\)"]+)?\\s*(?:"([^"]+)")?\\)');t.default={match:function(e,t){return t.inline?r.exec(e):void 0},parse:function(e){return{type:"image",props:{alt:(e[1]||"").trim(),src:(e[2]||"").trim(),title:(e[3]||"").trim()}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^`((?:[\\s\\S]|\\\\`)+)`");t.default={match:function(e,t){return t.inline?r.exec(e):null},parse:function(e){return{type:"code",props:{display:"inline",content:e[1].replace("\\`","`")}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^\\[([^\\]]+)\\]\\(([^\\)]+)\\)");t.default={match:function(e,t){return t.inline?r.exec(e):null},parse:function(e,t,n){return{type:"link",props:{href:e[2]},children:t(e[1],Object.assign({},n,{inline:!0}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^( *)([\\*\\-\\+]|\\d+\\.)\\s([\\s\\S]*?)(?=$|\\n\\n|\\n\\1(?:[\\*\\-\\+]|\\d+\\.))");t.default={match:function(e,t,n){var i=t.inline,u=t._list;if((!n||n.endsWith("\n"))&&(!u||""!==n)&&(!i||u)){for(var s="",o="",c=[];r.test(e);){var a=r.exec(e);if(a&&""!==o&&a[2]!==o)break;""===o&&(o=a[2]),s+=a[0],e=e.substr(a[0].length),e.startsWith("\n\n")&&r.test(e.substr(2))&&(s+="\n\n",e=e.substr(2)),e.startsWith("\n")&&r.test(e.substr(1))&&(s+="\n",e=e.substr(1)),c.push(a)}if(0!==c.length)return[s].concat(c)}},parse:function(e,t,n){return{type:"list",props:{bullet:e[1][2]},children:e.slice(1).map(function(e){var r=e[3].replace(new RegExp("^"+e[1],"gm"),""),i=r.includes("\n\n");return r=r.trim()+(i?"\n\n":""),{type:"listitem",children:t(r,Object.assign({},n,{inline:!i,_list:!0}))}})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default={match:r.newMathMatcher(!0),parse:function(e){return{type:"math",props:{display:"inline",content:e[2]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default={match:r.newMathMatcher(!1),parse:function(e){return{type:"math",props:{display:"block",content:e[2]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("^([\\s\\S]+?)(?:\n\n|$)");t.default={match:function(e,t,n){if(!t.inline&&(""===n||n.endsWith("\n")))return r.exec(e)},parse:function(e,t,n){return{type:"paragraph",children:t(e[1].trim(),Object.assign({},n,{inline:!0}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\s*\|((?:[^\|\n]+\|)+)\s*(?=\n|$)/,i=/^\s*\|((?:\s*:?\-+:?\s*\|)+)\s*(?=\n)/;t.default={match:function(e,t){if(!t.inline){var n=r.exec(e);if(n){var u=n[0]+"\n";e=e.substr(n[0].length+1);var s=i.exec(e);if(s){u+=s[0]+"\n",e=e.substr(s[0].length+1);for(var o=[];r.test(e);)o.push(r.exec(e)),u+=o[o.length-1][0]+"\n",e=e.substr(o[o.length-1][0].length+1);if(0!==o.length)return[u,n[0],s[0]].concat(o.map(function(e){return e[0]}))}}}},parse:function(e,t,n){var r=e[2].replace(/^\s*\|\s*|\s*\|\s*$/g,"").split(/\s*\|\s*/).map(function(e){var t=e.startsWith(":");return t===e.endsWith(":")?"center":t?"left":"right"});return{type:"table",children:[{type:"tablehead",children:e[1].replace(/^\s*\|\s*|\s*\|\s*$/g,"").split(/\s*\|\s*/).map(function(e,i){return{type:"tableheadcolumn",props:{align:r[i]},children:t(e,Object.assign({},n,{inline:!0}))}})},{type:"tablebody",children:e.slice(3).map(function(e){return{type:"tablerow",children:e.replace(/^\s*\|\s*|\s*\|\s*$/g,"").split(/\s*\|\s*/).map(function(e){return{type:"tablecolumn",children:t(e,Object.assign({},n,{inline:!0}))}})}})}]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^[^\n]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n|$)/;t.default={match:function(e,t){return t.inline?r.exec(e):null},parse:function(e){return{type:"text",props:{content:e[0]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={match:function(e){return/^\s*\n/.exec(e)},parse:function(){}}}])});