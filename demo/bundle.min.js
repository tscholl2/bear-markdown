!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)("object"==typeof exports?exports:e)[r]=t[r]}}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=2)}([function(e,n,t){"use strict";t.d(n,"a",function(){return r});Object.setPrototypeOf||Array;var r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}},function(e,n,t){"use strict";function r(e,n){return void 0===e&&(e=[]),void 0===n&&(n={}),e.map(function(e){switch(e.type){case"text":return document.createTextNode(e.content);case"table":var t=document.createElement("table"),a=document.createElement("thead");e.head.forEach(function(t,c){var i=document.createElement("th");i.align=e.align[c],r(t,n).forEach(function(e){return i.appendChild(e)}),a.appendChild(i)}),t.appendChild(a);var c=document.createElement("tbody");return e.rows.forEach(function(e){var t=document.createElement("tr");r(e,n).forEach(function(e){return t.appendChild(e)}),c.appendChild(t)}),t.appendChild(c),t;case"paragraph":var i=document.createElement("p");return r(e.children,n).forEach(function(e){return i.appendChild(e)}),i;case"list":var o=document.createElement(/^\d/.test(e.bullet)?"ol":"ul");return e.items.forEach(function(e){var t=document.createElement("li");r(e,n).forEach(function(e){return t.appendChild(e)}),o.appendChild(t)}),o;case"link":var u=document.createElement("a");return u.href=e.href,r(e.children,n).forEach(function(e){return u.appendChild(e)}),u;case"image":var s=document.createElement("img");return s.alt=e.alt,s.src=e.src,s.title=e.title,s;case"heading":var l=document.createElement("h"+e.level);return r(e.children,n).forEach(function(e){return l.appendChild(e)}),l;case"emphasis":var d={__:"u",_:"em","~~":"s","~":"em","**":"strong","*":"mark"},f=document.createElement(d[e.delimiter]);return r(e.children,n).forEach(function(e){return f.appendChild(e)}),f;case"comment":return document.createComment(e.content);case"codeBlock":var p=document.createElement("pre"),h=document.createElement("code");return h.appendChild(document.createTextNode(e.content)),p.appendChild(h),p;case"blockQuote":var m=document.createElement("blockquote");return r(e.children,n).forEach(function(e){return m.appendChild(e)}),m;case"inlineCode":var v=document.createElement("code");return v.appendChild(document.createTextNode(e.content)),v;default:throw new Error("unimplemented node: "+e.type)}})}n.a=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"defaultParser",function(){return i});var r=t(3),a=t(1),c=t(4);t.d(n,"printHTML",function(){return a.a}),t.d(n,"newParser",function(){return r.a}),t.d(n,"defaultRules",function(){return c.a});var i=Object(r.a)(c.a),o=Object(r.a)(c.a);console.log(Object(a.a)(o("# header\n\n![image](url)\n\nsome text\n\n1. a\n2. b\n3. c\n\nthis is a [link](url)\n\nthis is an ![image](url)")))},function(e,n,t){"use strict";n.a=function(e){var n=e.sort(function(e,n){return e.order===n.order?0:e.order>n.order?1:-1}),t=function(e,r){void 0===r&&(r={});for(var a=[],c="";e;)for(var i=0;i<n.length;i++){var o=n[i],u=o.match(e,r,c);if(u){e=e.substring(u[0].length);var s=o.parse(u,t,r);Array.isArray(s)?a.push.apply(a,s):null!=s&&a.push(s),c=u[0];break}if(i===n.length-1)throw new Error("could not find rule to match content: "+JSON.stringify(e))}return a};return t}},function(e,n,t){"use strict";t.d(n,"a",function(){return x});var r=t(0),a=t(5),c=t(6),i=t(7),o=t(8),u=t(9),s=t(10),l=t(11),d=t(12),f=t(13),p=t(14),h=t(15),m=t(16),v=t(17),g=t(18),x=[r.a({},i.a,{order:0}),r.a({},g.a,{order:1}),r.a({},a.a,{order:2}),r.a({},s.a,{order:3}),r.a({},c.a,{order:4}),r.a({},p.a,{order:5}),r.a({},m.a,{order:6}),r.a({},h.a,{order:7}),r.a({},d.a,{order:8}),r.a({},u.a,{order:9}),r.a({},o.a,{order:10}),r.a({},l.a,{order:6}),r.a({},f.a,{order:12}),r.a({},v.a,{order:13})]},function(e,n,t){"use strict";var r=new RegExp("^(\\s*>[^\\n]*)+\\n");n.a={order:6,match:function(e,n){return n.inline?void 0:r.exec(e)},parse:function(e,n,t){return{type:"blockQuote",children:n(e[0].replace(/^ *> ?/gm,""),t)}}}},function(e,n,t){"use strict";var r=new RegExp("^```([\\s\\S]+)?```");n.a={order:24,match:function(e,n){return n.inline?null:r.exec(e)},parse:function(e){return{type:"codeBlock",content:e[1]}}}},function(e,n,t){"use strict";var r=new RegExp("^\x3c!--[^(?:\\-\\->)]--\x3e");n.a={order:-1,match:function(e){return r.exec(e)},parse:function(e){return{type:"comment",content:e[1]}}}},function(e,n,t){"use strict";var r=new RegExp("^(__|\\*\\*|~~|_|\\*|~)([^(?:\\1)]*)?\\1");n.a={order:23,match:function(e,n){return n.inline?r.exec(e):null},parse:function(e,n,t){return{type:"emphasis",delimiter:e[1],children:n(e[2],t)}}}},function(e,n,t){"use strict";var r=new RegExp("^\\\\([\\\\`\\*\\_\\{\\}\\[\\]\\(\\)\\#\\+\\-\\.\\!\\<\\>\\|\\$\\~])");n.a={order:-1,match:function(e,n){return n.inline?r.exec(e):null},parse:function(e){return{type:"text",content:e[1]}}}},function(e,n,t){"use strict";var r=t(0),a=new RegExp("^(#{1,6})\\s*([^\\n]*)(?:\\s*#*\\s*)?(?=\n|$)");n.a={order:0,match:function(e,n){return n.inline?void 0:a.exec(e)},parse:function(e,n,t){return void 0===t&&(t={}),{type:"heading",level:e[1].length,children:n(e[2],r.a({},t,{inline:!0}))}}}},function(e,n,t){"use strict";var r=new RegExp('^\\!\\[([^\\]]+)?\\]\\(([^\\)"]+)?\\s*(?:"([^"])")?\\)');n.a={order:17,match:function(e){return r.exec(e)},parse:function(e){return{type:"image",alt:e[1]||"",src:e[2]||"",title:e[3]||""}}}},function(e,n,t){"use strict";var r=new RegExp("^`([\\s\\S]+)`");n.a={order:24,match:function(e,n){return n.inline?r.exec(e):null},parse:function(e){return{type:"inlineCode",content:e[1]}}}},function(e,n,t){"use strict";var r=t(0),a=new RegExp("^\\[([^\\]]+)\\]\\(([^\\)]+)\\)");n.a={order:-1,match:function(e,n){return n.inline?a.exec(e):null},parse:function(e,n,t){return{type:"link",href:e[2],children:n(e[1],r.a({},t,{inline:!0}))}}}},function(e,n,t){"use strict";var r=new RegExp("^( *)([\\*\\-\\+]|\\d+\\.)([\\s\\S]*?)(?=$|\\n\\n|\\n\\1(?:[\\*\\-\\+]|\\d+\\.))");n.a={order:7,match:function(e,n,t){var a=n.inline,c=n._list;if((!t||t.endsWith("\n"))&&(!c||""!==t)&&(!a||c)){for(var i="",o=[];r.test(e);){var u=r.exec(e);i+=u[0],(e=e.substr(u[0].length)).startsWith("\n\n")&&r.test(e.substr(2))&&(i+="\n\n",e=e.substr(2)),e.startsWith("\n")&&r.test(e.substr(1))&&(i+="\n",e=e.substr(1)),o.push(u)}if(0!==o.length)return[i].concat(o)}},parse:function(e,n,t){return{type:"list",bullet:e[1][2],items:e.slice(1).map(function(e){var r=e[3].replace(new RegExp("^"+e[1],"gm"),""),a=r.includes("\n\n");return r=r.trim()+(a?"\n\n":""),n(r,Object.assign({},t,{inline:!a,_list:!0}))})}}}},function(e,n,t){"use strict";var r=t(0),a=new RegExp("^([\\s\\S]+?)(?:\n\n|$)");n.a={order:-1,match:function(e,n,t){if(!n.inline&&(""===t||t.endsWith("\n")))return a.exec(e)},parse:function(e,n,t){return{type:"paragraph",children:n(e[1].trim(),r.a({},t,{inline:!0}))}}}},function(e,n,t){"use strict";var r=t(0),a=/^s*\|((?:[^\|\n]+\|)+)\s*(?=\n|$)/,c=/^\s*\|((?:\s*:?\-+:?\s*\|)+)\s*(?=\n)/;n.a={order:9,match:function(e,n){if(!n.inline){var t=a.exec(e);if(t){var r=t[0]+"\n";e=e.substr(t[0].length+1);var i=c.exec(e);if(i){r+=i[0]+"\n",e=e.substr(i[0].length+1);for(var o=[];a.test(e);)o.push(a.exec(e)),r+=o[o.length-1][0]+"\n",e=e.substr(o[o.length-1][0].length+1);if(0!==o.length)return[r,t[0],i[0]].concat(o.map(function(e){return e[0]}))}}}},parse:function(e,n,t){return{type:"table",head:e[1].replace(/^\s*\|\s*|\s*\|\s*$/g,"").split(/\s*\|\s*/).map(function(e){return n(e,Object.assign({},t,{inline:!0}))}),align:e[2].replace(/^\s*\|\s*|\s*\|\s*$/g,"").split(/\s*\|\s*/).map(function(e){var n=e.startsWith(":");return n===e.endsWith(":")?"center":n?"left":"right"}),rows:e.slice(3).map(function(e){return e.replace(/^\s*\|\s*|\s*\|\s*$/g,"").split(/\s*\|\s*/).map(function(e){return n(e,r.a({},t,{inline:!0}))})})}}}},function(e,n,t){"use strict";n.a={order:-1,match:function(e,n){return n.inline?/^[^\n]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n|$)/.exec(e):null},parse:function(e){return{type:"text",content:e[0]}}}},function(e,n,t){"use strict";n.a={order:-1,match:function(e){return/^\n/.exec(e)},parse:function(){}}}])});