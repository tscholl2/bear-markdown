{"version":3,"file":"html-json.js","sourceRoot":"","sources":["../../src/printers/html-json.ts"],"names":[],"mappings":"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","sourcesContent":["import { Printer } from \"../printer\";\nimport { Node } from \"../parser\";\n\nfunction h(\n  tag: string,\n  props?: { [key: string]: any },\n  ...children: (string | Comment | HTMLElement)[]\n) {\n  return { tag, props, children } as any;\n}\n\nexport default <{\n  [type: string]: Printer<Node, any, HTMLElement | string | Comment>;\n}>{\n  text: (n: any) => n.props.content,\n  table: (n: any, output) => h(\"table\", undefined, ...output(n.children)),\n  tablebody: (n: any, output) => h(\"tbody\", undefined, ...output(n.children)),\n  tablehead: (n: any, output) => h(\"thead\", undefined, ...output(n.children)),\n  tableheadcolumn: (n: any, output) => h(\"th\", undefined, ...output(n.children)),\n  tablerow: (n: any, output) => h(\"tr\", undefined, ...output(n.children)),\n  tablecolumn: (n: any, output) => h(\"td\", undefined, ...output(n.children)),\n  paragraph: (n: any, output) => h(\"p\", undefined, ...output(n.children)),\n  list: (n: any, output) =>\n    h(\n      /^\\d/.test(n.bullet) ? \"ol\" : \"ul\",\n      undefined,\n      n.items.map((i: any) => h(\"li\", undefined, ...output(i))),\n    ),\n  link: (n: any, output) => h(\"a\", n.props, ...output(n.children)),\n  image: (n: any, output) => h(\"img\", n.props, ...output(n.children)),\n  heading: (n: any, output) => h(`h${n.level}`, undefined, ...output(n.children)),\n  emphasis: (n: any, output) => {\n    const delimiters: { [key: string]: string } = {\n      __: \"u\",\n      _: \"em\",\n      \"~~\": \"s\",\n      \"~\": \"em\",\n      \"**\": \"strong\",\n      \"*\": \"mark\",\n    };\n    return h(delimiters[n.delimiter], undefined, ...output(n.children));\n  },\n  comment: (n: any) => n,\n  blockcode: (n: any, output) => h(\"pre\", undefined, h(\"code\", undefined, ...output(n.children))),\n  blockquote: (n: any, output) => h(\"blockquote\", undefined, ...output(n.children)),\n  inlinecode: (n: any, output) => h(\"code\", undefined, ...output(n.children)),\n  blockMath: (n: any, output) => h(\"math\", undefined, ...output(n.children)),\n  math: (n: any, output) => h(\"math\", undefined, ...output(n.children)),\n};\n"]}